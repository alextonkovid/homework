# Домашнее задание к занятию "1. Типы и структура СУБД"


Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде

```Для хранения электронных чеков в формате JSON можно использовать NoSQL базу данных, такую как MongoDB. Это связано с тем, что NoSQL базы данных позволяют хранить данные в формате JSON и имеют высокую масштабируемость и производительность.```
- Склады и автомобильные дороги для логистической компании

```Для хранения данных о складах и автомобильных дорогах можно использовать географические СУБД, такие как PostGIS или Oracle Spatial. Эти СУБД обладают возможностью хранить и обрабатывать географические данные, такие как координаты и положение объектов на карте. Это позволяет легко выполнять запросы на поиск ближайшего склада или определения маршрута для доставки грузов.```

- Генеалогические деревья

```Для хранения генеалогических деревьев рекомендуется использовать реляционные СУБД, такие как MySQL или PostgreSQL. Данные о родословных часто имеют структуру таблицы с отношениями "родитель-потомок", что может быть легко хранить и обрабатывать с помощью реляционных таблиц. ```

- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

```Для хранения кэша идентификаторов клиентов с ограниченным временем жизни можно использовать in-memory СУБД, такие как Redis или Memcached. Эти СУБД обладают очень высокой скоростью чтения и записи, что делает их идеальным выбором для кэширования данных, в том числе и для хранения токенов аутентификации. ```

- Отношения клиент-покупка для интернет-магазина

```Для хранения отношений клиент-покупка в интернет-магазине можно использовать реляционную СУБД, такую как MySQL или PostgreSQL. Реляционные базы данных обеспечивают легкий доступ к связанным данным и обеспечивают возможность выполнения запросов на основе отношений между таблицами.```

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
- Система может не прислать корректный ответ или сбросить соединение

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

---

#### Согласно CAP-теореме:

Данные записываются на все узлы с задержкой до часа (асинхронная запись) - данная система соответствует классификации CP, так как при записи на все узлы может возникнуть задержка, что может привести к неполадкам в доступе к данным.

При сетевых сбоях, система может разделиться на 2 раздельных кластера - данная система соответствует классификации AP, так как в случае сбоев система может потерять доступ к части данных.

Система может не прислать корректный ответ или сбросить соединение - данная система соответствует классификации CP, так как в случае ошибок сети, система может ограничить доступ к данным.

#### Согласно PACELC-теореме:

Данные записываются на все узлы с задержкой до часа (асинхронная запись) - данная система соответствует классификации PA/EL, так как при записи на все узлы с задержкой может потеряться доступность или консистентность данных.

При сетевых сбоях, система может разделиться на 2 раздельных кластера - данная система соответствует классификации AP/EC, так как в случае сбоев система может потерять доступность или консистентность данных.

Система может не прислать корректный ответ или сбросить соединение - данная система соответствует классификации PC/EC, так как в случае ошибок сети, система может потерять доступность или консистентность данных.

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

---
Принципы BASE и ACID противоположны друг другу, поэтому в одной системе их сочетание может быть затруднительным.

ACID - это сокращение от "атомарность", "согласованность", "изолированность" и "устойчивость", и это набор принципов, которые гарантируют надежность транзакций в традиционных реляционных базах данных. ACID гарантирует, что транзакции являются атомарными (то есть либо полностью выполняются, либо откатываются), согласованными (то есть все правила базы данных соблюдены), изолированными (то есть транзакции не взаимодействуют друг с другом) и устойчивыми (то есть после того, как транзакция выполнена, ее результаты сохраняются навсегда).

BASE, с другой стороны, означает "основано на отсутствии схемы" (Basically Available, Soft-state, Eventually consistent), и это набор принципов, которые используются в распределенных базах данных для обеспечения масштабируемости и доступности. BASE предполагает, что базы данных не всегда могут быть согласованными, а некоторые данные могут быть временно несогласованными и могут изменяться в разное время.

Некоторые системы могут использовать как ACID, так и BASE принципы, используя различные базы данных для различных задач. Например, некоторые системы могут использовать ACID-совместимые базы данных для обработки транзакций и BASE-совместимые базы данных для обработки аналитических запросов. Такое сочетание может привести к более сложной архитектуре и увеличению сложности в управлении и поддержке системы.


## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора данной системы?

---

Задача отсночится к системе кэширования с механизмом Pub/Sub. Key-value хранилище представляет собой базу данных, где данные хранятся в виде пар "ключ-значение". Такие системы могут обеспечивать высокую скорость доступа к данным благодаря минимальной задержке на чтение и запись. Также, такие системы могут иметь механизмы истечения времени жизни и таймаутов, которые автоматически удаляют данные, когда они больше не нужны.

Механизм Pub/Sub (публикация-подписка) позволяет системе рассылать сообщения в различные каналы и подписаться на определенные каналы для получения сообщений. В контексте key-value хранилища, механизм Pub/Sub может использоваться для уведомления клиентов об изменениях в данных, когда они происходят.

Одним из минусов выбора данной системы может быть ее ограниченность в функциональности и возможностях. Key-value хранилища не всегда подходят для сложных задач, таких как обработка транзакций и аналитических запросов, и могут иметь ограниченную масштабируемость. Также, если система является распределенной, то механизм Pub/Sub может быть недостаточным для обеспечения достаточно высокой скорости передачи сообщений в больших сетях.


---
